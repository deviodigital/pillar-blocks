var assert = require('assert-extras'),
    common = require('./common');

var count = 0;

var tests = {
    before: function(done) {
        count++;
        done();
    },
    group1: {
        before: function(done) {
            count++;
            done();
        },
        'group 1 one OK': function(done) {
            assert.ok(true);
            setTimeout(done, fakeDelay);
        },
        'group 1 mutliple OKs': function(done) {
            assert.ok(true);
            assert.ok(true);
            assert.ok(true);
            setTimeout(done, fakeDelay);
        },
        'verify count': function(done) {
            assert.ok(count === 6, 'count should be incremented to 6');
            setTimeout(done, fakeDelay);
        }
    },
    group2: {
        'group 2 one OK': function(done) {
            assert.ok(true);
            setTimeout(done, fakeDelay);
        },
        'group 2 mutliple OKs': function(done) {
            assert.ok(true);
            assert.ok(true);
            assert.ok(true);
            setTimeout(done, fakeDelay);
        },
        'verify count': function(done) {
            assert.ok(count === 9, 'count should be incremented to 9');
            setTimeout(done, fakeDelay);
        }
    },
    group3: {
        before: function(done) {
            count++;
            done();
        },
        group3_1: {
            before: function(done) {
                count++;
                done();
            },
            'group 3_1 one OK': function(done) {
                assert.ok(true);
                setTimeout(done, fakeDelay);
            },
            'group 3_1 mutliple OKs': function(done) {
                assert.ok(true);
                assert.ok(true);
                assert.ok(true);
                assert.ok(true);
                assert.ok(true);
                setTimeout(done, fakeDelay);
            },
            'verify count': function(done) {
                assert.ok(count === 18, 'count should be incremented to 18');
                setTimeout(done, fakeDelay);
            }
        },
    }
};

module.exports = tests;
